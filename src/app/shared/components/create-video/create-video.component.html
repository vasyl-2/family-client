<ng-container [formGroup]="addVideoForm" >
  <div class="add-photo-wrapper">
    <mat-form-field appearance="fill">
      <mat-label>название </mat-label>
      <input formControlName="name" matInput>
      <mat-error *ngIf="addVideoForm?.get('name')?.hasError('required')">название обязательно указать</mat-error>
    </mat-form-field>

    <mat-form-field class='description' appearance="fill">
      <mat-label>краткое описание</mat-label>
      <textarea  formControlName="description"
                 matInput
                 cdkTextareaAutosize
                 #autosize="cdkTextareaAutosize"
                 cdkAutosizeMinRows="1"
                 cdkAutosizeMaxRows="5"
      ></textarea>
    </mat-form-field>


    <div>
      <app-tree-chapters
        [chapters]="photoChapters$ | async"
        formControlName="chapter"></app-tree-chapters>
    </div>

    <div class="description">
      <label class="file">
        <mat-icon>attach_file</mat-icon>
        <span>выбери файл с диска</span>
        <input #upload class='file'
               id="upload-video" type="file"
               accept="video/mp4,video/x-m4v,video/*"
               (change)="uploadVideo($event)">
      </label>

      <button mat-icon-button
              [color]="'default'"
              (click)="upload.click()">
        <mat-icon [ngClass]="'material-icons-outlined'">file_upload</mat-icon>
      </button>
      <span>выбери файл</span>
    </div>

  </div>



  <div class="actions">
    <p class="description">Чтобы активизировать кнопку, заполни все обязательные поля *</p>
    <button mat-button color="primary" (click)="addVideo()" [disabled]="addVideoForm.invalid">
      Добавить видео
    </button>
  </div>

</ng-container>

<button mat-button color="primary" (click)="cancel()">
  Закрыть
</button>
